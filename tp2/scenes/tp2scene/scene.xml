<?xml version="1.0" encoding="UTF-16" standalone="yes"?>
<yaf>

	<!-- Credits of the original file go to Group 1, class 1 of course LAIG school year 2013/2014, FEUP, University of Porto -->

    <globals background="0 0 0 1" ambient="1.0 1.0 1.0 1" />

    <fog color="0.0 0.0 0.0 0.8" near="0.0" far="100.0" />

    <skybox
       size="1000.0 1000.0 1000.0"
       center="10.0 10.0 10.0"
       emissive="0.0 0.0 0.0 1"  intensity="0"
       front="scenes/tp2scene/textures/skybox.png" back="scenes/tp2scene/textures/skybox.png"
       up="scenes/tp2scene/textures/skybox.png" down="scenes/tp2scene/textures/skybox.png"
       left="scenes/tp2scene/textures/sky_up.png" right="scenes/tp2scene/textures/under_skybox.png" />

    <cameras initial="cam1" >
        <perspective id="cam1"
            angle="60"
            near="0.1"
            far="1000"
            location="20 20 10"
            target="0 0.0 0" />

        <orthogonal id="cam2"
            near="20"
            far="20"
            location="5.0 5.0 5.0"
            target="10.0 10.0 10.0"
            left="20"
            right="20"
            bottom="20"
            top="20" />
    </cameras>

    <!-- bloco de texturas. Este bloco tem de existir mas pode estar vazio, se nao forem usadas texturas -->
    <textures>
        <texture id="friskTex" filepath="scenes/tp2scene/textures/frisk.png"/>
        <texture id="torielTex" filepath="scenes/tp2scene/textures/toriel.png"/>
        <texture id="columnsTex" filepath="scenes/tp2scene/textures/columns.png"/>
        <texture id="flowerBedTex" filepath="scenes/tp2scene/textures/golden_flowers.png"/>
        <texture id="wallsTex" filepath="scenes/tp2scene/textures/walls.png"/>
        <texture id="floorTex" filepath="scenes/tp2scene/textures/floor.png"/>
        <texture id="doorTex" filepath="scenes/tp2scene/textures/door.png"/>
        <texture id="boardTex" filepath="scenes/tp2scene/textures/board.png"/>
        <texture id="floweyTex" filepath="scenes/tp2scene/textures/flowey.png"/>
        <texture id="saveTex" filepath="scenes/tp2scene/videos/star_save.webm" isVideo="true"/>
    </textures>

    <materials>

		<material id="leftWallApp"
            emissive="0.0 0.0 0.0 1"
			color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="wallsTex"
            texlength_s="10.0"
            texlength_t="8.0"
            twosided = "true"
            bumpref="scenes/tp2scene/textures/walls_bump.png"
            bumpscale="0.3"
            />

		<material id="rightWallApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="wallsTex"
            texlength_s="10.0"
            texlength_t="8.0"
            twosided = "true"
            bumpref="scenes/tp2scene/textures/walls_bump.png"
            bumpscale="0.3"
            />

		<material id="floorApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="floorTex"
            twosided = "true"
        />

        <material id="flowerBedApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="flowerBedTex"
            transparent="true"
            texlength_s="9.0"
            texlength_t="7.0"
            bumpref="scenes/tp2scene/textures/golden_flowers_bump.png"
            bumpscale="0.1"
            twosided = "true"
        />

        <material id="columnsApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="columnsTex"
            twosided = "true"
            bumpref="scenes/tp2scene/textures/columns_bump.png"
            bumpscale="0.15"
        />

        <material id="friskApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            texlength_s = "5.0"
            texlength_t = "5.0"
            twosided = "true"
            textureref="friskTex"
            transparent="true"
        />

        <material id="torielApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            texlength_s = "5.0"
            texlength_t = "8.1"
            twosided = "true"
            textureref="torielTex"
            transparent="true"
        />

        <material id="doorApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            texlength_s = "8.7"
            texlength_t = "8.17"
            textureref="doorTex"
            twosided = "true"
        />

        <material id="boardApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            textureref="boardTex"
            twosided = "true"
            transparent="false"
            bumpref="scenes/tp2scene/textures/board_bump.png"
            bumpscale="0.25"
        />

        <material id="floweyApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 0.8"
            specular="0 0 0 0"
            shininess="0"
            texlength_s = "3.0"
            texlength_t = "3.0"
            textureref="floweyTex"
            transparent="true"
            twosided = "true"
        />

        <material id="saveApp"
            emissive="0.0 0.0 0.0 1"
            color="0.8 0.8 0.8 1.0"
            specular="0 0 0 0"
            shininess="0"
            texlength_s = "5.0"
            texlength_t = "5.0"
            textureref="saveTex"
            transparent="true"
        />

        <material id="test"
            emissive="0.0 0.0 0.0 1"
			color="0.2 0.6 0.3 1.0"
            specular="0 0 0 0"
            shininess="0"
            />

    </materials>

    <graph rootid="scene">

		<node id="scene">
            <children>
				<noderef id="rightWall" />
				<noderef id="floor" />
                <noderef id="column1"/>
                <noderef id="column2"/>
                <noderef id="entities"/>
                <noderef id="save"/>

                <pointlight id="saveLight" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="16.0"
                    distance="1000"
                    decay="0.7"
                    castshadow="true"
                    position="10.0 1.0 2.0"
                    shadowfar = "1000"
                    shadowmapsize = "1024"
                />

                <directionallight id="ruins" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="5.0"
                    castshadow="false"
                    position="2 2 4"
                />

                <directionallight id="ruins2" enabled="true"
                    color="1.0 1.0 1.0 1"
                    intensity="5.0"
                    castshadow="false"
                    position="-2 -2 -4"
                />

                <lodref id="lod1"/>

            </children>
        </node>

		<node id="rectangle1">

            <transforms>
				<translate value3="0 0 -0.5" />
				<rotate value3="0 3.14 0.0" />
            </transforms>

            <children>
                <primitive>
                    <rectangle xy1="-0.5 -0.5" xy2="0.5 0.5" />
                </primitive>
            </children>
        </node>

		<node id="floor">

			<transforms>
				<translate value3="0 0 20" />
				<rotate value3="-1.57 0.0 0.0" />
            </transforms>

			<materialref id="floorApp" />

            <children>
                <noderef id="flowerBed" />
                <primitive>
                    <rectangle xy1="0 0" xy2="20 20" />
                </primitive>
            </children>
        </node>


		<node id="wall" receiveshadows="true">
			<transforms>
				<rotate value3="-1.57 0.0 0.0" />
            </transforms>

            <children>
                <noderef id="rectangle1" />
            </children>
        </node>

		<node id="leftWall" receiveshadows="true">
			<transforms>
				<translate value3="0 0 20" />
				<rotate value3="0.0 1.57 0.0" />
            </transforms>

			<materialref id="leftWallApp" />

            <children>
                <noderef id="door"/>
                <primitive>
                    <rectangle xy1="0 0" xy2="20 10" />
                </primitive>

            </children>
        </node>

        <node id="leftWall2" receiveshadows="true">
			<transforms>
				<translate value3="0 0 20" />
				<rotate value3="0.0 90 0.0" />
            </transforms>

			<materialref id="test" />

            <children>
                <noderef id="door"/>
                <primitive>
                    <rectangle xy1="0 0" xy2="20 10" />
                </primitive>

            </children>
        </node>

        <node id="door" receiveshadows="true">
            <transforms>
                <translate value3="5.0 0 0.1" />
            </transforms>

            <materialref id="doorApp" />

            <children>
                <primitive>
                    <rectangle xy1="0.3 0.0" xy2="9.0 8.17" />
                </primitive>
            </children>
        </node>

		<node id="rightWall" receiveshadows="true">
			<materialref id="rightWallApp" />

            <children>
                <noderef id="board" />
                <primitive>
                    <rectangle xy1="0 0" xy2="20 10" />
                </primitive>
            </children>
        </node>


        <node id="board" castshadows="true">
            <transforms>
                <translate value3="12.0 5.0 0.5" />
                <rotate value3="0.0 3.14 0.0" />
            </transforms>

            <materialref id="boardApp" />

            <children>
                <primitive>
                    <box xyz1="0 0 0.0" xyz2="4.0 2.0 0.49" />
                </primitive>
            </children>
        </node>

		<node id="column1">
            <transforms>
                <translate value3="0.1 0.1 0.1"/>
            </transforms>

			<materialref id="columnsApp" />

            <children>
                <primitive>
                    <box xyz1="0.0 0.0 0.0" xyz2="4.5 10.0 1.5" />
                </primitive>
            </children>
        </node>

        <node id="column2">
            <transforms>
                <translate value3="15.5 0.1 0.1" />
            </transforms>
			<materialref id="columnsApp" />

            <children>
                <primitive>
                    <box xyz1="0.0 0.0 0.0" xyz2="4.5 10.0 1.5" />
                </primitive>
            </children>
        </node>

        <node id="flowerBed">
            <transforms>
                <translate value3="5.0 6.0 0.1" />
                <scale value3="1.5 1.7 1.0" />
            </transforms>

            <materialref id="flowerBedApp" />

            <children>
                <primitive>
                    <nurbs degree_u="1" degree_v="2" parts_u="20" parts_v="20">
                        <controlpoint xx="-1" yy="-1" zz="0" />
                        <controlpoint xx="-1" yy="3.5" zz="1.0" />
                        <controlpoint xx="-1" yy="6" zz="0" />
                        <controlpoint xx="8" yy="-1" zz="0" />
                        <controlpoint xx="8" yy="3.5" zz="1.0"/>
                        <controlpoint xx="8" yy="6" zz="0" />
                    </nurbs>
                </primitive>
            </children>
        </node>

        <node id="entities"  castshadows="true">
            <transforms>
                <translate value3="-2.0 0.0 0.0" />
            </transforms>
            <children>
                <noderef id="frisk" />
                <noderef id="toriel" />
                <noderef id="flowey"/>
            </children>
        </node>

        <node id="frisk">
            <transforms>
                <translate value3="5.0 0.2 15.0" />
                <rotate value3="0.0 1.57 0.0" />
            </transforms>

            <materialref id="friskApp" />

            <children>
                <primitive>
                    <rectangle xy1="0.0 0.0" xy2="5.0 5.0" />
                </primitive>
            </children>
        </node>

        <node id="toriel">
            <transforms>
                <translate value3="5.0 0.2 11.0" />
                <rotate value3="0.0 1.57 0.0" />
            </transforms>

            <materialref id="torielApp" />

            <children>
                <primitive>
                    <rectangle xy1="0.0 0.0" xy2="5.0 8.0" />
                </primitive>
            </children>
        </node>

        <node id="flowey">
            <transforms>
                <rotate value3="0.0 1.57 0.0" />
                <translate value3="-11.5 0.2 12.0" />
            </transforms>

            <materialref id="floweyApp" />

            <children>
                <primitive>
                    <rectangle xy1="0.0 0.0" xy2="3.0 3.0" />
                </primitive>
            </children>
        </node>


        <node id="save">
            <transforms>
                <translate value3="5.5 -0.5 2.0" />
                <scale value3="2 1.5 1.5" />
            </transforms>

            <materialref id="saveApp" />

            <children>
                <primitive>
                    <rectangle xy1="0.0 0.0" xy2="5.0 5.0" />
                </primitive>
            </children>
        </node>

        <lod id="lod1">
            <noderef id="leftWall" mindist="0"/>
            <noderef id="leftWall2" mindist="20"/>
        </lod>
    </graph>
</yaf>